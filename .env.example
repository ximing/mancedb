# ===== 基础配置 =====
NODE_ENV=production
PORT=3000

# ===== CORS 配置 =====
CORS_ORIGIN=http://localhost:3000
CORS_CREDENTIALS=true

# ===== JWT 配置 =====
JWT_SECRET=your-secret-key-change-this-in-production

# ===== LanceDB 数据库配置 =====
# 存储类型: local 或 s3
LANCEDB_STORAGE_TYPE=local
# 本地存储路径
LANCEDB_PATH=./lancedb_data
# 版本保留天数
LANCEDB_VERSION_RETENTION_DAYS=7

# LanceDB S3 配置 (当 LANCEDB_STORAGE_TYPE=s3 时使用)
# LANCEDB_S3_BUCKET=your-lancedb-bucket
# LANCEDB_S3_PREFIX=lancedb
# LANCEDB_S3_ENDPOINT=https://s3.amazonaws.com

# ===== 备份配置 =====
# 是否启用备份
BACKUP_ENABLED=false
# 备份存储类型: local 或 s3
BACKUP_STORAGE_TYPE=local
# 备份间隔时间(毫秒), 默认1小时
BACKUP_THROTTLE_INTERVAL_MS=3600000
# 保留备份数量上限
BACKUP_MAX_COUNT=10
# 保留备份天数上限
BACKUP_MAX_DAYS=30
# 本地备份路径
BACKUP_LOCAL_PATH=./backups

# 备份 S3 配置 (当 BACKUP_STORAGE_TYPE=s3 时使用)
# BACKUP_S3_BUCKET=your-backup-bucket
# BACKUP_S3_PREFIX=backups
# BACKUP_S3_ENDPOINT=https://s3.amazonaws.com
# BACKUP_AWS_ACCESS_KEY_ID=your-backup-access-key
# BACKUP_AWS_SECRET_ACCESS_KEY=your-backup-secret-key
# BACKUP_AWS_REGION=us-east-1

# ===== 附件存储配置 =====
# 存储类型: local 或 s3
ATTACHMENT_STORAGE_TYPE=local
# 本地存储路径
ATTACHMENT_LOCAL_PATH=./attachments
# 最大文件大小(字节), 默认50MB
ATTACHMENT_MAX_FILE_SIZE=52428800
# S3 预签名URL过期时间(秒), 默认1小时
ATTACHMENT_PRESIGNED_URL_EXPIRY=3600

# 附件允许的 MIME 类型 (逗号分隔，留空使用默认值)
# ATTACHMENT_ALLOWED_MIME_TYPES=image/png,image/jpeg,image/gif,image/webp,application/pdf,text/plain

# 附件 S3 配置 (当 ATTACHMENT_STORAGE_TYPE=s3 时使用)
# ATTACHMENT_S3_BUCKET=your-attachment-bucket
# ATTACHMENT_S3_PREFIX=attachments
# ATTACHMENT_S3_ENDPOINT=https://s3.amazonaws.com
# ATTACHMENT_S3_IS_PUBLIC=false
# ATTACHMENT_AWS_ACCESS_KEY_ID=your-attachment-access-key
# ATTACHMENT_AWS_SECRET_ACCESS_KEY=your-attachment-secret-key
# ATTACHMENT_AWS_REGION=us-east-1

# ===== AWS 全局凭证配置 (所有 S3 服务共用) =====
# 如果各个服务没有单独配置凭证，将使用这里的全局配置
# AWS_ACCESS_KEY_ID=your-global-access-key
# AWS_SECRET_ACCESS_KEY=your-global-secret-key
# AWS_REGION=us-east-1

# ===== OpenAI 配置 (文本 Embedding) =====
OPENAI_API_KEY=your-openai-api-key
OPENAI_MODEL=text-embedding-3-small
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_EMBEDDING_DIMENSIONS=1536

# ===== 多模态 Embedding 配置 (图片/视频) =====
# 是否启用多模态 Embedding
MULTIMODAL_EMBEDDING_ENABLED=false
# 模型名称
# MULTIMODAL_EMBEDDING_MODEL=qwen3-vl-embedding
# DashScope API Key (阿里云灵积)
# DASHSCOPE_API_KEY=your-dashscope-api-key
# DashScope API Base URL
# DASHSCOPE_BASE_URL=https://dashscope.aliyuncs.com/api/v1
# Embedding 向量维度
# MULTIMODAL_EMBEDDING_DIMENSION=1024
# 输出类型
# MULTIMODAL_EMBEDDING_OUTPUT_TYPE=dense
# 视频帧采样率
# MULTIMODAL_EMBEDDING_VIDEO_FPS=0.5

# ===== 定时任务配置 =====
# 数据库优化定时任务 (Cron 表达式)
# 默认: 每天凌晨2点执行
DB_OPTIMIZATION_CRON=0 2 * * *

# ===== 本地化配置 =====
LOCALE_LANGUAGE=zh-cn
LOCALE_TIMEZONE=Asia/Shanghai

# ===== GitHub 配置 (用于 Docker 发布) =====
# GITHUB_REPOSITORY=your-username/mancedb
