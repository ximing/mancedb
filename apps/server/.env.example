# Server Configuration
PORT=3000
NODE_ENV=development

# CORS Configuration
CORS_ORIGIN=http://localhost:3000,http://localhost:5173
CORS_CREDENTIALS=true

# LanceDB Configuration - Storage Type (local or s3)
LANCEDB_STORAGE_TYPE=local

# LanceDB Local Storage Path (used when LANCEDB_STORAGE_TYPE=local)
LANCEDB_PATH=./lancedb_data

# LanceDB S3 Storage Configuration (used when LANCEDB_STORAGE_TYPE=s3)
# LANCEDB_S3_BUCKET=your-bucket-name
# LANCEDB_S3_PREFIX=lancedb
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# AWS_REGION=us-east-1
# LANCEDB_S3_ENDPOINT=http://minio:9000 # Optional: S3-compatible endpoint (e.g., MinIO)

# LanceDB Version Retention Policy (default: 7 days)
LANCEDB_VERSION_RETENTION_DAYS=7

# OpenAI Configuration for Embedding
OPENAI_API_KEY=your-openai-api-key
OPENAI_MODEL=text-embedding-3-small
OPENAI_BASE_URL=https://api.openai.com/v1
# Embedding dimensions (should match your embedding model's output dimension)
# - OpenAI text-embedding-3-small: 1536 (default)
# - OpenAI text-embedding-3-large: 3072
# - Custom embedding services: check their documentation
# This value is used to define the FixedSizeList schema for memos and embedding_cache tables
OPENAI_EMBEDDING_DIMENSIONS=1536

# JWT Configuration
JWT_SECRET=your-jwt-secret-key-change-in-production

# Database Optimization Scheduler Configuration
# Cron expression for database optimization (default: '0 2 * * *' - daily at 2 AM)
DB_OPTIMIZATION_CRON=0 2 * * *

# Backup Configuration
# Enable backup feature
BACKUP_ENABLED=false

# Backup storage type: local, s3, or oss
BACKUP_STORAGE_TYPE=local

# Backup throttle interval in milliseconds (default: 3600000 = 1 hour)
BACKUP_THROTTLE_INTERVAL_MS=3600000

# Backup retention policy
# Maximum number of backups to keep
BACKUP_MAX_COUNT=10
# Maximum days to keep backups
BACKUP_MAX_DAYS=30

# Local backup storage configuration (used when BACKUP_STORAGE_TYPE=local)
BACKUP_LOCAL_PATH=./backups

# S3-compatible backup storage configuration (used when BACKUP_STORAGE_TYPE=s3)
# Supports: AWS S3, MinIO, DigitalOcean Spaces, etc.
# BACKUP_S3_BUCKET=your-bucket-name
# BACKUP_S3_PREFIX=backups
# BACKUP_S3_ACCESS_KEY_ID=your-access-key
# BACKUP_S3_SECRET_ACCESS_KEY=your-secret-key
# BACKUP_S3_REGION=us-east-1
# BACKUP_S3_ENDPOINT=http://minio:9000 # Optional: for MinIO, etc.
# BACKUP_S3_IS_PUBLIC=false # Set to true for public buckets
# Examples:
#   AWS S3: leave endpoint empty
#   MinIO: http://minio:9000 or https://minio.example.com

# Aliyun OSS backup storage configuration (used when BACKUP_STORAGE_TYPE=oss)
# Uses ali-oss official library for complete feature support
# BACKUP_OSS_BUCKET=your-bucket-name
# BACKUP_OSS_PREFIX=backups
# BACKUP_OSS_ACCESS_KEY_ID=your-access-key-id
# BACKUP_OSS_ACCESS_KEY_SECRET=your-access-key-secret
# BACKUP_OSS_REGION=cn-hangzhou
# BACKUP_OSS_ENDPOINT=https://oss-cn-hangzhou.aliyuncs.com # Optional
# BACKUP_OSS_IS_PUBLIC=false # Set to true for public buckets

# Attachment Configuration
# Attachment storage type: local, s3, or oss
ATTACHMENT_STORAGE_TYPE=local

# Maximum file size in bytes (default: 52428800 = 50MB)
ATTACHMENT_MAX_FILE_SIZE=52428800

# Allowed MIME types (comma-separated, leave empty to use defaults)
# ATTACHMENT_ALLOWED_MIME_TYPES=image/png,image/jpeg,application/pdf

# Presigned URL expiry time in seconds (default: 43200 = 12 hours)
# Only used when bucket is private (S3/OSS_IS_PUBLIC=false)
ATTACHMENT_PRESIGNED_URL_EXPIRY=43200

# Local attachment storage configuration (used when ATTACHMENT_STORAGE_TYPE=local)
ATTACHMENT_LOCAL_PATH=./attachments

# S3-compatible attachment storage configuration (used when ATTACHMENT_STORAGE_TYPE=s3)
# Supports: AWS S3, MinIO, DigitalOcean Spaces, etc.
# ATTACHMENT_S3_BUCKET=your-bucket-name
# ATTACHMENT_S3_PREFIX=attachments
# ATTACHMENT_S3_ACCESS_KEY_ID=your-access-key
# ATTACHMENT_S3_SECRET_ACCESS_KEY=your-secret-key
# ATTACHMENT_S3_REGION=us-east-1
# ATTACHMENT_S3_ENDPOINT=http://minio:9000 # Optional: for MinIO, etc.
# ATTACHMENT_S3_IS_PUBLIC=false # Set to true for public buckets (direct URLs), false for private buckets (presigned URLs)
# Examples:
#   AWS S3: leave endpoint empty
#   MinIO: http://minio:9000 or https://minio.example.com

# Aliyun OSS attachment storage configuration (used when ATTACHMENT_STORAGE_TYPE=oss)
# Uses ali-oss official library for complete feature support
# ATTACHMENT_OSS_BUCKET=your-bucket-name
# ATTACHMENT_OSS_PREFIX=attachments
# ATTACHMENT_OSS_ACCESS_KEY_ID=your-access-key-id
# ATTACHMENT_OSS_ACCESS_KEY_SECRET=your-access-key-secret
# ATTACHMENT_OSS_REGION=cn-hangzhou
# ATTACHMENT_OSS_ENDPOINT=https://oss-cn-hangzhou.aliyuncs.com # Optional
# ATTACHMENT_OSS_IS_PUBLIC=false # Set to true for public buckets

# Multimodal Embedding Configuration (DashScope)
MULTIMODAL_EMBEDDING_ENABLED=true
MULTIMODAL_EMBEDDING_MODEL=qwen3-vl-embedding
DASHSCOPE_API_KEY=your-dashscope-key-here
DASHSCOPE_BASE_URL=https://dashscope.aliyuncs.com/api/v1
MULTIMODAL_EMBEDDING_DIMENSION=2560
MULTIMODAL_EMBEDDING_OUTPUT_TYPE=dense
MULTIMODAL_EMBEDDING_VIDEO_FPS=0.5

# Locale Configuration
# Language code (e.g., 'zh-cn' for Simplified Chinese, 'en-us' for English)
LOCALE_LANGUAGE=zh-cn
# Timezone (e.g., 'Asia/Shanghai', 'UTC', 'America/New_York')
LOCALE_TIMEZONE=Asia/Shanghai